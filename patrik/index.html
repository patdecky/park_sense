<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nominatim Geocode and Open in Google Maps</title>
</head>
<body>

    <h1>Geocode a Place and Open Coordinates in Google Maps</h1>

    <!-- Section for geocoding a place -->
    <div>
        <h2>Search for a Place:</h2>
        <input type="text" id="placeInput" placeholder="Enter place description">
        <button onclick="geocodePlace()">Get GPS Coordinates</button>
    </div>

    <!-- Section to display the found coordinates -->
    <div style="margin-top: 10px;">
        <h3>Found Coordinates:</h3>
        <input type="text" id="coordinatesDisplay" readonly style="width: 300px;">
    </div>

    <!-- Section for entering coordinates and opening Google Maps -->
    <div style="margin-top: 20px;">
        <h2>Open Coordinates in Google Maps:</h2>
        <input type="text" id="latInput" placeholder="Enter Latitude">
        <input type="text" id="lonInput" placeholder="Enter Longitude">
        <button onclick="openCoordinatesInGoogleMaps()">Open in Google Maps</button>
    </div>

    <script>
        // Function to get GPS coordinates from Nominatim
        function geocodePlace() {
            const place = document.getElementById('placeInput').value;
            const nominatimUrl = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(place)}&format=json&limit=1`;

            fetch(nominatimUrl)
                .then(response => response.json())
                .then(data => {
                    if (data.length > 0) {
                        const location = data[0];
                        const lat = location.lat;
                        const lon = location.lon;

                        // Display the coordinates in the textbox
                        const coordinatesDisplay = document.getElementById('coordinatesDisplay');
                        coordinatesDisplay.value = `Latitude: ${lat}, Longitude: ${lon}`;

                        // Auto-fill the coordinates fields for easier use
                        document.getElementById('latInput').value = lat;
                        document.getElementById('lonInput').value = lon;
                    } else {
                        alert('Place not found!');
                    }
                })
                .catch(error => console.error('Error fetching geocode:', error));
        }

        // Function to open the given coordinates in Google Maps
        function openCoordinatesInGoogleMaps() {
            const lat = document.getElementById('latInput').value;
            const lon = document.getElementById('lonInput').value;

            if (lat && lon) {
                const url = `https://www.google.com/maps?q=${lat},${lon}`;
                window.open(url, '_blank');
            } else {
                alert('Please enter both Latitude and Longitude');
            }
        }
    </script>

</body>
</html>
